# 우테코 프리코스 4,5주차 오픈미션 - 공정한 페어 매칭을 보장하는 락 전략 비교 실험
<br>

## 미션 목표

- 여러 요청이 동시에 들어와도 하나의 크루가 중복 매칭되지 않도록 보장하는 시스템을 설계하고,
이를 위해 다양한 락(동기화) 전략을 구현, 비교, 검증한다.

## 1. 구현할 기능 목록

### 페어 매칭 기능
- 크루들의 이름 목록을 List<String> 형태로 준비한다.
- 크루 목록의 순서를 랜덤으로 섞는다.
- 앞에서부터 순서대로 두 명씩 페어를 맺는다.
- 홀수인 경우 마지막 남은 크루는 마지막 페어에 포함시켜 3인 페어를 만든다.
- 같은 레벨에서 이미 페어로 만난 적이 있는 크루끼리 다시 매칭된다면, 목록을 다시 섞어 매칭을 다시 시도한다.
- 아무도 이전에 함께한 적 없는 조합이 완성될 때까지 반복한다.
- 동시성 환경에서는 동일한 크루가 여러 요청에서 중복 선점되지 않도록 락으로 보호한다.

### 락 전략 비교 기능
- 락 전략을 플러그인 형태로 교체하며 실험할 수 있도록 설계한다.
- 요청 파라미터에 NONE, LOCAL, DB, REDIS 의 enum을 받아 해당 값으로 분기하여 각 다른 락 전략을 사용한 매칭을 진행한다. (서버는 요청한 값에 맞는 LockingStrategy 구현체를 선택해 페어 매칭 로직을 실행)
- 단일 서버 환경에서 멀티스레드 매칭을 반복해 Race Condition 재현 → 락 미적용(NONE) 시 중복 매칭 발생 확인
- 다중 서버(8080, 8081) 환경에서 Redis 락 실험

### 실험 시각화 기능
- 락 전략별 통계를 제공한다.
  - 중복률, 평균 응답시간,  락 대기시간, 타임아웃 발생률 등의 수치들을 확인할 수 있도록 한다.
- 가능하다면 API 결과를 CSV로 저장하고, 그래프 시각화도 시도해본다.


## 2. 로컬 DB 설정

- DB: MySQL
- DB 이름: `pairmatchdb`
- 계정: `root`
- 비밀번호: `1234` (개발용 로컬 계정, 운영에 사용하면 안 됩니다)
